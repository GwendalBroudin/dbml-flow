import{r as V,u as An,a as Nn,b as Xe,c as _n,d as $n,e as Hn,f as Je,g as Tn,h as Ye,i as Gn,R as ln,M as Bn,j as ne,k as Fn}from"./index-BIQ3o8-7.js";import{r as jn,u as On,d as Un,E as Vn,a as Ge,V as Kn}from"./viewer-B3pioyGh.js";const Wn="Error preloading route! ☝️";function qn(e,t){const n=An(),[r,i]=V.useState(!1),o=V.useRef(!1),a=Nn(t),{activeProps:s=()=>({className:"active"}),inactiveProps:l=()=>({}),activeOptions:d,to:b,preload:f,preloadDelay:c,hashScrollIntoView:x,replace:m,startTransition:C,resetScroll:w,viewTransition:S,children:N,target:R,disabled:L,style:O,className:M,onClick:g,onFocus:H,onMouseEnter:B,onMouseLeave:Y,onTouchStart:F,ignoreBlocker:A,...Q}=e,{params:T,search:G,hash:j,state:Re,mask:re,reloadDocument:Me,...ae}=Q,he=V.useMemo(()=>{try{return new URL(`${b}`),"external"}catch{}return"internal"},[b]),oe=Xe({select:E=>E.location.search,structuralSharing:!0}),u=_n({select:E=>{var D;return e.from??((D=E[E.length-1])==null?void 0:D.fullPath)}}),p=V.useMemo(()=>({...e,from:u}),[e,u]),y=V.useMemo(()=>n.buildLocation(p),[n,p,oe]),v=V.useMemo(()=>p.reloadDocument?!1:f??n.options.defaultPreload,[n.options.defaultPreload,f,p.reloadDocument]),h=c??n.options.defaultPreloadDelay??0,P=Xe({select:E=>{if(d!=null&&d.exact){if(!Tn(E.location.pathname,y.pathname,n.basepath))return!1}else{const D=Ye(E.location.pathname,n.basepath).split("/");if(!Ye(y.pathname,n.basepath).split("/").every((kn,Dn)=>kn===D[Dn]))return!1}return((d==null?void 0:d.includeSearch)??!0)&&!Gn(E.location.search,y.search,{partial:!(d!=null&&d.exact),ignoreUndefined:!(d!=null&&d.explicitUndefined)})?!1:d!=null&&d.includeHash?E.location.hash===y.hash:!0}}),I=V.useCallback(()=>{n.preloadRoute(p).catch(E=>{console.warn(E),console.warn(Wn)})},[p,n]),_=V.useCallback(E=>{E!=null&&E.isIntersecting&&I()},[I]);if($n(a,_,{rootMargin:"100px"},{disabled:!!L||v!=="viewport"}),Hn(()=>{o.current||!L&&v==="render"&&(I(),o.current=!0)},[L,I,v]),he==="external")return{...ae,ref:a,type:he,href:b,...N&&{children:N},...R&&{target:R},...L&&{disabled:L},...O&&{style:O},...M&&{className:M},...g&&{onClick:g},...H&&{onFocus:H},...B&&{onMouseEnter:B},...Y&&{onMouseLeave:Y},...F&&{onTouchStart:F}};const J=E=>{if(!L&&!Jn(E)&&!E.defaultPrevented&&(!R||R==="_self")&&E.button===0){E.preventDefault(),jn.flushSync(()=>{i(!0)});const D=n.subscribe("onResolved",()=>{D(),i(!1)});return n.navigate({...p,replace:m,resetScroll:w,hashScrollIntoView:x,startTransition:C,viewTransition:S,ignoreBlocker:A})}},W=E=>{L||v&&I()},k=W,q=E=>{if(L)return;const D=E.target||{};if(v){if(D.preloadTimeout)return;D.preloadTimeout=setTimeout(()=>{D.preloadTimeout=null,I()},h)}},se=E=>{if(L)return;const D=E.target||{};D.preloadTimeout&&(clearTimeout(D.preloadTimeout),D.preloadTimeout=null)},ee=E=>D=>{var Pe;(Pe=D.persist)==null||Pe.call(D),E.filter(Boolean).forEach(qe=>{D.defaultPrevented||qe(D)})},le=P?Je(s,{})??{}:{},$=P?{}:Je(l,{}),be=[M,le.className,$.className].filter(Boolean).join(" "),ke={...O,...le.style,...$.style};return{...ae,...le,...$,href:L?void 0:y.maskedLocation?n.history.createHref(y.maskedLocation.href):n.history.createHref(y.href),ref:a,onClick:ee([g,J]),onFocus:ee([H,W]),onMouseEnter:ee([B,q]),onMouseLeave:ee([Y,se]),onTouchStart:ee([F,k]),disabled:!!L,target:R,...Object.keys(ke).length&&{style:ke},...be&&{className:be},...L&&{role:"link","aria-disabled":!0},...P&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const Xn=V.forwardRef((e,t)=>{const{_asChild:n,...r}=e,{type:i,ref:o,...a}=qn(r,t),s=typeof r.children=="function"?r.children({isActive:a["data-status"]==="active"}):r.children;return typeof n>"u"&&delete a.disabled,V.createElement(n||"a",{...a,ref:o},s)});function Jn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const{createElement:Se,createContext:Yn,forwardRef:cn,useCallback:U,useContext:un,useEffect:de,useImperativeHandle:dn,useLayoutEffect:Zn,useMemo:Qn,useRef:K,useState:xe}=ln,Ze=ln[`useId${Math.random()}`.slice(0,5)],et=Zn,_e=Yn(null);_e.displayName="PanelGroupContext";const fe=et,nt=typeof Ze=="function"?Ze:()=>null;let tt=0;function Ue(e=null){const t=nt(),n=K(e||t||null);return n.current===null&&(n.current=""+tt++),e??n.current}function fn({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:a,maxSize:s,minSize:l,onCollapse:d,onExpand:b,onResize:f,order:c,style:x,tagName:m="div",...C}){const w=un(_e);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:N,getPanelSize:R,getPanelStyle:L,groupId:O,isPanelCollapsed:M,reevaluatePanelConstraints:g,registerPanel:H,resizePanel:B,unregisterPanel:Y}=w,F=Ue(a),A=K({callbacks:{onCollapse:d,onExpand:b,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:s,minSize:l},id:F,idIsFromProps:a!==void 0,order:c});K({didLogMissingDefaultSizeWarning:!1}),fe(()=>{const{callbacks:T,constraints:G}=A.current,j={...G};A.current.id=F,A.current.idIsFromProps=a!==void 0,A.current.order=c,T.onCollapse=d,T.onExpand=b,T.onResize=f,G.collapsedSize=n,G.collapsible=r,G.defaultSize=i,G.maxSize=s,G.minSize=l,(j.collapsedSize!==G.collapsedSize||j.collapsible!==G.collapsible||j.maxSize!==G.maxSize||j.minSize!==G.minSize)&&g(A.current,j)}),fe(()=>{const T=A.current;return H(T),()=>{Y(T)}},[c,F,H,Y]),dn(o,()=>({collapse:()=>{S(A.current)},expand:T=>{N(A.current,T)},getId(){return F},getSize(){return R(A.current)},isCollapsed(){return M(A.current)},isExpanded(){return!M(A.current)},resize:T=>{B(A.current,T)}}),[S,N,R,M,F,B]);const Q=L(A.current,i);return Se(m,{...C,children:e,className:t,id:a,style:{...Q,...x},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":O,"data-panel-id":F,"data-panel-size":parseFloat(""+Q.flexGrow).toFixed(1)})}const je=cn((e,t)=>Se(fn,{...e,forwardedRef:t}));fn.displayName="Panel";je.displayName="forwardRef(Panel)";let Oe=null,ue=null;function rt(e,t){if(t){const n=(t&yn)!==0,r=(t&vn)!==0,i=(t&xn)!==0,o=(t&zn)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ot(){ue!==null&&(document.head.removeChild(ue),Oe=null,ue=null)}function Be(e,t){const n=rt(e,t);Oe!==n&&(Oe=n,ue===null&&(ue=document.createElement("style"),document.head.appendChild(ue)),ue.innerHTML=`*{cursor: ${n}!important;}`)}function pn(e){return e.type==="keydown"}function hn(e){return e.type.startsWith("pointer")}function mn(e){return e.type.startsWith("mouse")}function $e(e){if(hn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(mn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function it(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function at(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function st(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:nn(e),b:nn(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;z(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:en(Qe(n.a)),b:en(Qe(n.b))};if(i.a===i.b){const o=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(i.a-i.b)}const lt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function ct(e){var t;const n=getComputedStyle((t=gn(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function ut(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||ct(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||lt.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Qe(e){let t=e.length;for(;t--;){const n=e[t];if(z(n,"Missing node"),ut(n))return n}return null}function en(e){return e&&Number(getComputedStyle(e).zIndex)||0}function nn(e){const t=[];for(;e;)t.push(e),e=gn(e);return t}function gn(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const yn=1,vn=2,xn=4,zn=8,dt=it()==="coarse";let Z=[],ze=!1,ie=new Map,He=new Map;const Le=new Set;function ft(e,t,n,r,i){var o;const{ownerDocument:a}=t,s={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},l=(o=ie.get(a))!==null&&o!==void 0?o:0;return ie.set(a,l+1),Le.add(s),Ae(),function(){var b;He.delete(e),Le.delete(s);const f=(b=ie.get(a))!==null&&b!==void 0?b:1;if(ie.set(a,f-1),Ae(),f===1&&ie.delete(a),Z.includes(s)){const c=Z.indexOf(s);c>=0&&Z.splice(c,1),Ke(),i("up",!0,null)}}}function tn(e){const{target:t}=e,{x:n,y:r}=$e(e);ze=!0,Ve({target:t,x:n,y:r}),Ae(),Z.length>0&&(Ne("down",e),e.preventDefault(),e.stopPropagation())}function we(e){const{x:t,y:n}=$e(e);if(ze&&e.buttons===0&&(ze=!1,Ne("up",e)),!ze){const{target:r}=e;Ve({target:r,x:t,y:n})}Ne("move",e),Ke(),Z.length>0&&e.preventDefault()}function me(e){const{target:t}=e,{x:n,y:r}=$e(e);He.clear(),ze=!1,Z.length>0&&e.preventDefault(),Ne("up",e),Ve({target:t,x:n,y:r}),Ke(),Ae()}function Ve({target:e,x:t,y:n}){Z.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Le.forEach(i=>{const{element:o,hitAreaMargins:a}=i,s=o.getBoundingClientRect(),{bottom:l,left:d,right:b,top:f}=s,c=dt?a.coarse:a.fine;if(t>=d-c&&t<=b+c&&n>=f-c&&n<=l+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&st(r,o)>0){let m=r,C=!1;for(;m&&!m.contains(o);){if(at(m.getBoundingClientRect(),s)){C=!0;break}m=m.parentElement}if(C)return}Z.push(i)}})}function Fe(e,t){He.set(e,t)}function Ke(){let e=!1,t=!1;Z.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let n=0;He.forEach(r=>{n|=r}),e&&t?Be("intersection",n):e?Be("horizontal",n):t?Be("vertical",n):ot()}function Ae(){ie.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",me),n.removeEventListener("pointerdown",tn),n.removeEventListener("pointerleave",we),n.removeEventListener("pointermove",we)}),window.removeEventListener("pointerup",me),window.removeEventListener("pointercancel",me),Le.size>0&&(ze?(Z.length>0&&ie.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",me),n.addEventListener("pointerleave",we),n.addEventListener("pointermove",we))}),window.addEventListener("pointerup",me),window.addEventListener("pointercancel",me)):ie.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",tn,{capture:!0}),n.addEventListener("pointermove",we))}))}function Ne(e,t){Le.forEach(n=>{const{setResizeHandlerState:r}=n,i=Z.includes(n);r(e,i,t)})}function pt(){const[e,t]=xe(0);return U(()=>t(n=>n+1),[])}function z(e,t){if(!e)throw console.error(t),Error(t)}const We=10;function pe(e,t,n=We){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function te(e,t,n=We){return pe(e,t,n)===0}function X(e,t,n){return pe(e,t,n)===0}function ht(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=t[r];if(!X(i,o,n))return!1}return!0}function ve({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];z(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:o,maxSize:a=100,minSize:s=0}=r;if(pe(n,s)<0)if(o){const l=(i+s)/2;pe(n,l)<0?n=i:n=s}else n=s;return n=Math.min(a,n),n=parseFloat(n.toFixed(We)),n}function Ee({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(X(e,0))return t;const a=[...t],[s,l]=r;z(s!=null,"Invalid first pivot index"),z(l!=null,"Invalid second pivot index");let d=0;if(o==="keyboard"){{const f=e<0?l:s,c=n[f];z(c,`Panel constraints not found for index ${f}`);const{collapsedSize:x=0,collapsible:m,minSize:C=0}=c;if(m){const w=t[f];if(z(w!=null,`Previous layout not found for panel index ${f}`),X(w,x)){const S=C-w;pe(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const f=e<0?s:l,c=n[f];z(c,`No panel constraints found for index ${f}`);const{collapsedSize:x=0,collapsible:m,minSize:C=0}=c;if(m){const w=t[f];if(z(w!=null,`Previous layout not found for panel index ${f}`),X(w,C)){const S=w-x;pe(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const f=e<0?1:-1;let c=e<0?l:s,x=0;for(;;){const C=t[c];z(C!=null,`Previous layout not found for panel index ${c}`);const S=ve({panelConstraints:n,panelIndex:c,size:100})-C;if(x+=S,c+=f,c<0||c>=n.length)break}const m=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-m:m}{let c=e<0?s:l;for(;c>=0&&c<n.length;){const x=Math.abs(e)-Math.abs(d),m=t[c];z(m!=null,`Previous layout not found for panel index ${c}`);const C=m-x,w=ve({panelConstraints:n,panelIndex:c,size:C});if(!X(m,w)&&(d+=m-w,a[c]=w,d.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(ht(i,a))return i;{const f=e<0?l:s,c=t[f];z(c!=null,`Previous layout not found for panel index ${f}`);const x=c+d,m=ve({panelConstraints:n,panelIndex:f,size:x});if(a[f]=m,!X(m,x)){let C=x-m,S=e<0?l:s;for(;S>=0&&S<n.length;){const N=a[S];z(N!=null,`Previous layout not found for panel index ${S}`);const R=N+C,L=ve({panelConstraints:n,panelIndex:S,size:R});if(X(N,L)||(C-=L-N,a[S]=L),X(C,0))break;e>0?S--:S++}}}const b=a.reduce((f,c)=>c+f,0);return X(b,100)?a:i}function mt({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,o=0,a=0;const s=n[0];z(s!=null,"No pivot index found"),t.forEach((f,c)=>{const{constraints:x}=f,{maxSize:m=100,minSize:C=0}=x;c===s?(r=C,i=m):(o+=C,a+=m)});const l=Math.min(i,100-o),d=Math.max(r,100-a),b=e[s];return{valueMax:l,valueMin:d,valueNow:b}}function Ie(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Sn(e,t,n=document){const i=Ie(e,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===t);return i??null}function bn(e,t,n){const r=Sn(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Pn(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Te(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function gt(e,t,n,r=document){var i,o,a,s;const l=Te(t,r),d=Ie(e,r),b=l?d.indexOf(l):-1,f=(i=(o=n[b])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,c=(a=(s=n[b+1])===null||s===void 0?void 0:s.id)!==null&&a!==void 0?a:null;return[f,c]}function yt({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:a}){K({didWarnAboutMissingResizeHandle:!1}),fe(()=>{if(!o)return;const s=Ie(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:d,valueMin:b,valueNow:f}=mt({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),c=s[l];if(c!=null){const x=i[l];z(x,`No panel data found for index "${l}"`),c.setAttribute("aria-controls",x.id),c.setAttribute("aria-valuemax",""+Math.round(d)),c.setAttribute("aria-valuemin",""+Math.round(b)),c.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{s.forEach((l,d)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),de(()=>{if(!o)return;const s=t.current;z(s,"Eager values not found");const{panelDataArray:l}=s,d=Pn(n,o);z(d!=null,`No group found for id "${n}"`);const b=Ie(n,o);z(b,`No resize handles found for group id "${n}"`);const f=b.map(c=>{const x=c.getAttribute("data-panel-resize-handle-id");z(x,"Resize handle element has no handle id attribute");const[m,C]=gt(n,x,l,o);if(m==null||C==null)return()=>{};const w=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const N=l.findIndex(R=>R.id===m);if(N>=0){const R=l[N];z(R,`No panel data found for index ${N}`);const L=r[N],{collapsedSize:O=0,collapsible:M,minSize:g=0}=R.constraints;if(L!=null&&M){const H=Ee({delta:X(L,O)?g-O:O-L,initialLayout:r,panelConstraints:l.map(B=>B.constraints),pivotIndices:bn(n,x,o),prevLayout:r,trigger:"keyboard"});r!==H&&a(H)}}break}}};return c.addEventListener("keydown",w),()=>{c.removeEventListener("keydown",w)}});return()=>{f.forEach(c=>c())}},[o,e,t,n,r,i,a])}function rn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wn(e,t){const n=e==="horizontal",{x:r,y:i}=$e(t);return n?r:i}function vt(e,t,n,r,i){const o=n==="horizontal",a=Te(t,i);z(a,`No resize handle element found for id "${t}"`);const s=a.getAttribute("data-panel-group-id");z(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const d=wn(n,e),b=Pn(s,i);z(b,`No group element found for id "${s}"`);const f=b.getBoundingClientRect(),c=o?f.width:f.height;return(d-l)/c*100}function xt(e,t,n,r,i,o){if(pn(e)){const a=n==="horizontal";let s=0;e.shiftKey?s=100:i!=null?s=i:s=10;let l=0;switch(e.key){case"ArrowDown":l=a?0:s;break;case"ArrowLeft":l=a?-s:0;break;case"ArrowRight":l=a?s:0;break;case"ArrowUp":l=a?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:vt(e,t,n,r,o)}function zt({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const a=n[o];z(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;s!=null&&(r++,t[o]=s,i-=s)}for(let o=0;o<e.length;o++){const a=n[o];z(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;if(s!=null)continue;const l=e.length-r,d=i/l;r++,t[o]=d,i-=d}return t}function ge(e,t,n){t.forEach((r,i)=>{const o=e[i];z(o,`Panel data not found for index ${i}`);const{callbacks:a,constraints:s,id:l}=o,{collapsedSize:d=0,collapsible:b}=s,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:c,onExpand:x,onResize:m}=a;m&&m(r,f),b&&(c||x)&&(x&&(f==null||te(f,d))&&!te(r,d)&&x(),c&&(f==null||!te(f,d))&&te(r,d)&&c())}})}function De(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function St({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:o=3}){const a=n[i];let s;return a==null?s=e!=null?e.toPrecision(o):"1":r.length===1?s="1":s=a.toPrecision(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function bt(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function on(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function En(e){return`react-resizable-panels:${e}`}function Cn(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=t;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Ln(e,t){try{const n=En(e),r=t.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Pt(e,t,n){var r,i;const o=(r=Ln(e,n))!==null&&r!==void 0?r:{},a=Cn(t);return(i=o[a])!==null&&i!==void 0?i:null}function wt(e,t,n,r,i){var o;const a=En(e),s=Cn(t),l=(o=Ln(e,i))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(l))}catch(d){console.error(d)}}function an({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,a)=>o+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!X(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const a=n[o];z(a!=null,`No layout data found for index ${o}`);const s=100/r*a;n[o]=s}let i=0;for(let o=0;o<t.length;o++){const a=n[o];z(a!=null,`No layout data found for index ${o}`);const s=ve({panelConstraints:t,panelIndex:o,size:a});a!=s&&(i+=a-s,n[o]=s)}if(!X(i,0))for(let o=0;o<t.length;o++){const a=n[o];z(a!=null,`No layout data found for index ${o}`);const s=a+i,l=ve({panelConstraints:t,panelIndex:o,size:s});if(a!==l&&(i-=l-a,n[o]=l,X(i,0)))break}return n}const Et=100,Ce={getItem:e=>(on(Ce),Ce.getItem(e)),setItem:(e,t)=>{on(Ce),Ce.setItem(e,t)}},sn={};function In({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:a=null,keyboardResizeBy:s=null,storage:l=Ce,style:d,tagName:b="div",...f}){const c=Ue(o),x=K(null),[m,C]=xe(null),[w,S]=xe([]),N=pt(),R=K({}),L=K(new Map),O=K(0),M=K({autoSaveId:e,direction:r,dragState:m,id:c,keyboardResizeBy:s,onLayout:a,storage:l}),g=K({layout:w,panelDataArray:[],panelDataArrayChanged:!1});K({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),dn(i,()=>({getId:()=>M.current.id,getLayout:()=>{const{layout:u}=g.current;return u},setLayout:u=>{const{onLayout:p}=M.current,{layout:y,panelDataArray:v}=g.current,h=an({layout:u,panelConstraints:v.map(P=>P.constraints)});rn(y,h)||(S(h),g.current.layout=h,p&&p(h),ge(v,h,R.current))}}),[]),fe(()=>{M.current.autoSaveId=e,M.current.direction=r,M.current.dragState=m,M.current.id=c,M.current.onLayout=a,M.current.storage=l}),yt({committedValuesRef:M,eagerValuesRef:g,groupId:c,layout:w,panelDataArray:g.current.panelDataArray,setLayout:S,panelGroupElement:x.current}),de(()=>{const{panelDataArray:u}=g.current;if(e){if(w.length===0||w.length!==u.length)return;let p=sn[e];p==null&&(p=bt(wt,Et),sn[e]=p);const y=[...u],v=new Map(L.current);p(e,y,v,w,l)}},[e,w,l]),de(()=>{});const H=U(u=>{const{onLayout:p}=M.current,{layout:y,panelDataArray:v}=g.current;if(u.constraints.collapsible){const h=v.map(J=>J.constraints),{collapsedSize:P=0,panelSize:I,pivotIndices:_}=ce(v,u,y);if(z(I!=null,`Panel size not found for panel "${u.id}"`),!te(I,P)){L.current.set(u.id,I);const W=ye(v,u)===v.length-1?I-P:P-I,k=Ee({delta:W,initialLayout:y,panelConstraints:h,pivotIndices:_,prevLayout:y,trigger:"imperative-api"});De(y,k)||(S(k),g.current.layout=k,p&&p(k),ge(v,k,R.current))}}},[]),B=U((u,p)=>{const{onLayout:y}=M.current,{layout:v,panelDataArray:h}=g.current;if(u.constraints.collapsible){const P=h.map(q=>q.constraints),{collapsedSize:I=0,panelSize:_=0,minSize:J=0,pivotIndices:W}=ce(h,u,v),k=p??J;if(te(_,I)){const q=L.current.get(u.id),se=q!=null&&q>=k?q:k,le=ye(h,u)===h.length-1?_-se:se-_,$=Ee({delta:le,initialLayout:v,panelConstraints:P,pivotIndices:W,prevLayout:v,trigger:"imperative-api"});De(v,$)||(S($),g.current.layout=$,y&&y($),ge(h,$,R.current))}}},[]),Y=U(u=>{const{layout:p,panelDataArray:y}=g.current,{panelSize:v}=ce(y,u,p);return z(v!=null,`Panel size not found for panel "${u.id}"`),v},[]),F=U((u,p)=>{const{panelDataArray:y}=g.current,v=ye(y,u);return St({defaultSize:p,dragState:m,layout:w,panelData:y,panelIndex:v})},[m,w]),A=U(u=>{const{layout:p,panelDataArray:y}=g.current,{collapsedSize:v=0,collapsible:h,panelSize:P}=ce(y,u,p);return z(P!=null,`Panel size not found for panel "${u.id}"`),h===!0&&te(P,v)},[]),Q=U(u=>{const{layout:p,panelDataArray:y}=g.current,{collapsedSize:v=0,collapsible:h,panelSize:P}=ce(y,u,p);return z(P!=null,`Panel size not found for panel "${u.id}"`),!h||pe(P,v)>0},[]),T=U(u=>{const{panelDataArray:p}=g.current;p.push(u),p.sort((y,v)=>{const h=y.order,P=v.order;return h==null&&P==null?0:h==null?-1:P==null?1:h-P}),g.current.panelDataArrayChanged=!0,N()},[N]);fe(()=>{if(g.current.panelDataArrayChanged){g.current.panelDataArrayChanged=!1;const{autoSaveId:u,onLayout:p,storage:y}=M.current,{layout:v,panelDataArray:h}=g.current;let P=null;if(u){const _=Pt(u,h,y);_&&(L.current=new Map(Object.entries(_.expandToSizes)),P=_.layout)}P==null&&(P=zt({panelDataArray:h}));const I=an({layout:P,panelConstraints:h.map(_=>_.constraints)});rn(v,I)||(S(I),g.current.layout=I,p&&p(I),ge(h,I,R.current))}}),fe(()=>{const u=g.current;return()=>{u.layout=[]}},[]);const G=U(u=>{let p=!1;const y=x.current;return y&&window.getComputedStyle(y,null).getPropertyValue("direction")==="rtl"&&(p=!0),function(h){h.preventDefault();const P=x.current;if(!P)return()=>null;const{direction:I,dragState:_,id:J,keyboardResizeBy:W,onLayout:k}=M.current,{layout:q,panelDataArray:se}=g.current,{initialLayout:ee}=_??{},le=bn(J,u,P);let $=xt(h,u,I,_,W,P);const be=I==="horizontal";be&&p&&($=-$);const ke=se.map(Pe=>Pe.constraints),E=Ee({delta:$,initialLayout:ee??q,panelConstraints:ke,pivotIndices:le,prevLayout:q,trigger:pn(h)?"keyboard":"mouse-or-touch"}),D=!De(q,E);(hn(h)||mn(h))&&O.current!=$&&(O.current=$,!D&&$!==0?be?Fe(u,$<0?yn:vn):Fe(u,$<0?xn:zn):Fe(u,0)),D&&(S(E),g.current.layout=E,k&&k(E),ge(se,E,R.current))}},[]),j=U((u,p)=>{const{onLayout:y}=M.current,{layout:v,panelDataArray:h}=g.current,P=h.map(q=>q.constraints),{panelSize:I,pivotIndices:_}=ce(h,u,v);z(I!=null,`Panel size not found for panel "${u.id}"`);const W=ye(h,u)===h.length-1?I-p:p-I,k=Ee({delta:W,initialLayout:v,panelConstraints:P,pivotIndices:_,prevLayout:v,trigger:"imperative-api"});De(v,k)||(S(k),g.current.layout=k,y&&y(k),ge(h,k,R.current))},[]),Re=U((u,p)=>{const{layout:y,panelDataArray:v}=g.current,{collapsedSize:h=0,collapsible:P}=p,{collapsedSize:I=0,collapsible:_,maxSize:J=100,minSize:W=0}=u.constraints,{panelSize:k}=ce(v,u,y);k!=null&&(P&&_&&te(k,h)?te(h,I)||j(u,I):k<W?j(u,W):k>J&&j(u,J))},[j]),re=U((u,p)=>{const{direction:y}=M.current,{layout:v}=g.current;if(!x.current)return;const h=Te(u,x.current);z(h,`Drag handle element not found for id "${u}"`);const P=wn(y,p);C({dragHandleId:u,dragHandleRect:h.getBoundingClientRect(),initialCursorPosition:P,initialLayout:v})},[]),Me=U(()=>{C(null)},[]),ae=U(u=>{const{panelDataArray:p}=g.current,y=ye(p,u);y>=0&&(p.splice(y,1),delete R.current[u.id],g.current.panelDataArrayChanged=!0,N())},[N]),he=Qn(()=>({collapsePanel:H,direction:r,dragState:m,expandPanel:B,getPanelSize:Y,getPanelStyle:F,groupId:c,isPanelCollapsed:A,isPanelExpanded:Q,reevaluatePanelConstraints:Re,registerPanel:T,registerResizeHandle:G,resizePanel:j,startDragging:re,stopDragging:Me,unregisterPanel:ae,panelGroupElement:x.current}),[H,m,r,B,Y,F,c,A,Q,Re,T,G,j,re,Me,ae]),oe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Se(_e.Provider,{value:he},Se(b,{...f,children:t,className:n,id:o,ref:x,style:{...oe,...d},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":c}))}const Rn=cn((e,t)=>Se(In,{...e,forwardedRef:t}));In.displayName="PanelGroup";Rn.displayName="forwardRef(PanelGroup)";function ye(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ce(e,t,n){const r=ye(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:o}}function Ct({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){de(()=>{if(e||n==null||r==null)return;const i=Te(t,r);if(i==null)return;const o=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const s=i.getAttribute("data-panel-group-id");z(s,`No group element found for id "${s}"`);const l=Ie(s,r),d=Sn(s,t,r);z(d!==null,`No resize element found for id "${t}"`);const b=a.shiftKey?d>0?d-1:l.length-1:d+1<l.length?d+1:0;l[b].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,t,n])}function Mn({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:o,onDragging:a,onFocus:s,style:l={},tabIndex:d=0,tagName:b="div",...f}){var c,x;const m=K(null),C=K({onDragging:a});de(()=>{C.current.onDragging=a});const w=un(_e);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:N,registerResizeHandle:R,startDragging:L,stopDragging:O,panelGroupElement:M}=w,g=Ue(i),[H,B]=xe("inactive"),[Y,F]=xe(!1),[A,Q]=xe(null),T=K({state:H});fe(()=>{T.current.state=H}),de(()=>{if(n)Q(null);else{const re=R(g);Q(()=>re)}},[n,g,R]);const G=(c=r==null?void 0:r.coarse)!==null&&c!==void 0?c:15,j=(x=r==null?void 0:r.fine)!==null&&x!==void 0?x:5;return de(()=>{if(n||A==null)return;const re=m.current;return z(re,"Element ref not attached"),ft(g,re,S,{coarse:G,fine:j},(ae,he,oe)=>{if(he)switch(ae){case"down":{B("drag"),z(oe,'Expected event to be defined for "down" action'),L(g,oe);const{onDragging:u}=C.current;u&&u(!0);break}case"move":{const{state:u}=T.current;u!=="drag"&&B("hover"),z(oe,'Expected event to be defined for "move" action'),A(oe);break}case"up":{B("hover"),O();const{onDragging:u}=C.current;u&&u(!1);break}}else B("inactive")})},[G,S,n,j,R,g,A,L,O]),Ct({disabled:n,handleId:g,resizeHandler:A,panelGroupElement:M}),Se(b,{...f,children:e,className:t,id:i,onBlur:()=>{F(!1),o==null||o()},onFocus:()=>{F(!0),s==null||s()},ref:m,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:d,"data-panel-group-direction":S,"data-panel-group-id":N,"data-resize-handle":"","data-resize-handle-active":H==="drag"?"pointer":Y?"keyboard":void 0,"data-resize-handle-state":H,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":g})}Mn.displayName="PanelResizeHandle";const Lt=e=>e.diags.map(t=>{const n=t.location.start,r=t.location.end;return{startLineNumber:n.line,startColumn:n.column,endLineNumber:(r==null?void 0:r.line)??n.line,endColumn:(r==null?void 0:r.column)??n.column,message:t.message,severity:Bn.Error}}),It=()=>{const{code:e,setCode:t,setEditorModel:n,parseDBML:r,setMarkers:i}=On(),o=V.useCallback(l=>{if(l){const d=Lt(l);i(d)}else l instanceof Error?console.error("DBML Parser Error:",l.message):console.error("Unknown error:",l)},[i]),a=V.useCallback(l=>{n(l.getModel())},[n]),s=V.useCallback(Un(l=>{const d=l||"";t(d);const b=r(d);b.success||o(b.error)},Ge.BUILD_DELAY),[r,t,o]);return V.useEffect(()=>()=>{s.cancel()},[s]),ne.jsx(Fn,{onMount:a,onChange:s,className:"flex-1",defaultLanguage:Ge.LANGUAGE,defaultValue:e,theme:Ge.THEME,options:Vn})},kt=function(){return ne.jsxs("div",{className:"flex flex-col h-screen",children:[ne.jsx("nav",{className:"bg-primary",children:ne.jsx(Xn,{to:"/view",children:"viewer"})}),ne.jsxs(Rn,{direction:"horizontal",children:[ne.jsx(je,{defaultSize:30,minSize:20,children:ne.jsx(It,{})}),ne.jsx(Mn,{}),ne.jsx(je,{minSize:40,children:ne.jsx(Kn,{})})]})]})};export{kt as component};
